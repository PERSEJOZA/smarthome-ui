function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{JPLv:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("AytR"),o=n("fXoL"),i=function(){var e=function e(){_classCallCheck(this,e),this.nestJSServerUrl=r.a.nestJSServerUrl};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},OpKh:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthenticationModule",(function(){return v}));var r,o,i,a,s=n("PCNd"),c=n("tyNb"),l=n("3Pt+"),u=function e(t,n){_classCallCheck(this,e),this.username=t,this.password=n},f=n("fXoL"),b=n("tk/3"),g=n("JPLv"),m=((r=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.configuration=n}return _createClass(e,[{key:"login",value:function(e,t){return this.http.post("".concat(this.configuration.nestJSServerUrl,"/login"),new u(e,t))}},{key:"register",value:function(e,t){return this.http.post("".concat(this.configuration.nestJSServerUrl,"/register"),new u(e,t))}}]),e}()).\u0275fac=function(e){return new(e||r)(f.Yb(b.b),f.Yb(g.a))},r.\u0275prov=f.Kb({token:r,factory:r.\u0275fac}),r),d=n("lg7r"),p=[{path:"",component:(o=function(){function e(t,n,r){_classCallCheck(this,e),this.authenticationService=t,this.router=n,this.userInfoService=r}return _createClass(e,[{key:"ngOnInit",value:function(){localStorage.clear(),this.userInfoService.clear(),this.loginFrom=new l.g({username:new l.e("admin",l.u.required),currentPassword:new l.e("0000",l.u.required)})}},{key:"login",value:function(){var e=this;this.loginSubscription=this.authenticationService.login(this.loginFrom.value.username,this.loginFrom.value.currentPassword).subscribe((function(t){delete localStorage.token,localStorage.token=t.token,delete localStorage.name,localStorage.username=e.loginFrom.value.username,e.userInfoService.setUserInfo(),e.router.navigate(["/food-planner"])}))}},{key:"register",value:function(){var e=this;this.registerSubscription=this.authenticationService.register(this.loginFrom.value.username,this.loginFrom.value.currentPassword).subscribe((function(t){delete localStorage.token,localStorage.token=t.token,delete localStorage.name,localStorage.username=e.loginFrom.value.username,e.userInfoService.setUserInfo(),e.router.navigate(["/food-planner"])}))}},{key:"ngOnDestroy",value:function(){this.loginSubscription&&this.loginSubscription.unsubscribe(),this.registerSubscription&&this.registerSubscription.unsubscribe()}}]),e}(),o.\u0275fac=function(e){return new(e||o)(f.Ob(m),f.Ob(c.b),f.Ob(d.a))},o.\u0275cmp=f.Ib({type:o,selectors:[["app-login"]],features:[f.Bb([m])],decls:14,vars:3,consts:[[1,"container"],[1,"login-form"],["id","loginForm",3,"formGroup","ngSubmit"],["for","username"],["type","text","formControlName","username","id","username","autocomplete","username"],["for","password"],["type","password","id","password","formControlName","currentPassword","autocomplete","current-password"],["type","submit","form","loginForm",3,"disabled"],[3,"disabled","click"]],template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.Ub(2,"form",2),f.cc("ngSubmit",(function(){return t.login()})),f.Ub(3,"label",3),f.Bc(4," Username: "),f.Tb(),f.Pb(5,"input",4),f.Ub(6,"label",5),f.Bc(7," Password: "),f.Tb(),f.Pb(8,"input",6),f.Tb(),f.Ub(9,"div"),f.Ub(10,"button",7),f.Bc(11," Sign in "),f.Tb(),f.Ub(12,"button",8),f.cc("click",(function(){return t.register()})),f.Bc(13," Register "),f.Tb(),f.Tb(),f.Tb(),f.Tb()),2&e&&(f.Cb(2),f.lc("formGroup",t.loginFrom),f.Cb(8),f.lc("disabled",!t.loginFrom.valid),f.Cb(2),f.lc("disabled",!t.loginFrom.valid))},directives:[l.v,l.o,l.h,l.b,l.n,l.f],styles:[".container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-columns:1fr auto 1fr;grid-template-rows:1fr auto 1fr}.container[_ngcontent-%COMP%] > .login-form[_ngcontent-%COMP%]{grid-column:2;grid-row:2;display:grid;justify-items:end;grid-template-columns:1fr;grid-template-rows:-webkit-max-content -webkit-max-content -webkit-max-content;grid-template-rows:max-content max-content max-content;grid-gap:10px;justify-items:center}.container[_ngcontent-%COMP%] > .login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}"]}),o)},{path:"**",redirectTo:""}],h=((a=function e(){_classCallCheck(this,e)}).\u0275mod=f.Mb({type:a}),a.\u0275inj=f.Lb({factory:function(e){return new(e||a)},imports:[[c.f.forChild(p)],c.f]}),a),v=((i=function e(){_classCallCheck(this,e)}).\u0275mod=f.Mb({type:i}),i.\u0275inj=f.Lb({factory:function(e){return new(e||i)},imports:[[h,s.a]]}),i)}}]);