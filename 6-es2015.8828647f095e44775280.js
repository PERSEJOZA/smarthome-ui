(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{JPLv:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("AytR"),o=r("fXoL");let i=(()=>{class e{constructor(){this.nestJSServerUrl=n.a.nestJSServerUrl}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},OpKh:function(e,t,r){"use strict";r.r(t),r.d(t,"AuthenticationModule",(function(){return d}));var n=r("PCNd"),o=r("tyNb"),i=r("3Pt+");class s{constructor(e,t){this.username=e,this.password=t}}var a=r("fXoL"),c=r("tk/3"),l=r("JPLv");let u=(()=>{class e{constructor(e,t){this.http=e,this.configuration=t}login(e,t){return this.http.post(`${this.configuration.nestJSServerUrl}/login`,new s(e,t))}register(e,t){return this.http.post(`${this.configuration.nestJSServerUrl}/register`,new s(e,t))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(c.b),a.Yb(l.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();var g=r("lg7r");const b=[{path:"",component:(()=>{class e{constructor(e,t,r){this.authenticationService=e,this.router=t,this.userInfoService=r}ngOnInit(){localStorage.clear(),this.userInfoService.clear(),this.loginFrom=new i.g({username:new i.e("admin",i.u.required),currentPassword:new i.e("0000",i.u.required)})}login(){this.loginSubscription=this.authenticationService.login(this.loginFrom.value.username,this.loginFrom.value.currentPassword).subscribe(e=>{delete localStorage.token,localStorage.token=e.token,delete localStorage.name,localStorage.username=this.loginFrom.value.username,this.userInfoService.setUserInfo(),this.router.navigate(["/food-planner"])})}register(){this.registerSubscription=this.authenticationService.register(this.loginFrom.value.username,this.loginFrom.value.currentPassword).subscribe(e=>{delete localStorage.token,localStorage.token=e.token,delete localStorage.name,localStorage.username=this.loginFrom.value.username,this.userInfoService.setUserInfo(),this.router.navigate(["/food-planner"])})}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe(),this.registerSubscription&&this.registerSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(u),a.Ob(o.b),a.Ob(g.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-login"]],features:[a.Bb([u])],decls:14,vars:3,consts:[[1,"container"],[1,"login-form"],["id","loginForm",3,"formGroup","ngSubmit"],["for","username"],["type","text","formControlName","username","id","username","autocomplete","username"],["for","password"],["type","password","id","password","formControlName","currentPassword","autocomplete","current-password"],["type","submit","form","loginForm",3,"disabled"],[3,"disabled","click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"form",2),a.cc("ngSubmit",(function(){return t.login()})),a.Ub(3,"label",3),a.Bc(4," Username: "),a.Tb(),a.Pb(5,"input",4),a.Ub(6,"label",5),a.Bc(7," Password: "),a.Tb(),a.Pb(8,"input",6),a.Tb(),a.Ub(9,"div"),a.Ub(10,"button",7),a.Bc(11," Sign in "),a.Tb(),a.Ub(12,"button",8),a.cc("click",(function(){return t.register()})),a.Bc(13," Register "),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.lc("formGroup",t.loginFrom),a.Cb(8),a.lc("disabled",!t.loginFrom.valid),a.Cb(2),a.lc("disabled",!t.loginFrom.valid))},directives:[i.v,i.o,i.h,i.b,i.n,i.f],styles:[".container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-columns:1fr auto 1fr;grid-template-rows:1fr auto 1fr}.container[_ngcontent-%COMP%] > .login-form[_ngcontent-%COMP%]{grid-column:2;grid-row:2;display:grid;justify-items:end;grid-template-columns:1fr;grid-template-rows:-webkit-max-content -webkit-max-content -webkit-max-content;grid-template-rows:max-content max-content max-content;grid-gap:10px;justify-items:center}.container[_ngcontent-%COMP%] > .login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}"]}),e})()},{path:"**",redirectTo:""}];let m=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[o.f.forChild(b)],o.f]}),e})(),d=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[m,n.a]]}),e})()}}]);